<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Barbería profesional con más de 10 años de experiencia. Reserva tu cita online.">
    <meta name="keywords" content="barbería, corte de cabello, afeitado, barba, bigote, Bogotá">
    <meta name="author" content="Barbershop Elite">
    <meta name="theme-color" content="#d4af37">
    
    <!-- Preconnect para mejorar rendimiento -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts optimizadas -->
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <title>Barbershop Elite - Reserva tu cita online</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loader mejorado -->
    <div id="page-loader" class="page-loader">
        <div class="loader-content">
            <div class="barber-pole"></div>
            <p class="loader-text">Cargando Barbershop Elite...</p>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Header mejorado -->
    <header class="header">
        <nav class="navbar container">
            <div class="nav-brand">
                <i class="fas fa-cut brand-icon" aria-hidden="true"></i>
                <span class="brand-text">Barbershop Elite</span>
            </div>
            <div class="nav-controls">
                <!-- Selector de idioma -->
                <select id="language-selector" class="language-selector" aria-label="Seleccionar idioma">
                    <option value="es">🇪🇸 ES</option>
                    <option value="en">🇺🇸 EN</option>
                </select>
                
                <!-- Toggle modo oscuro -->
                <button id="theme-toggle" class="theme-toggle" aria-label="Cambiar tema">
                    <i class="fas fa-moon"></i>
                </button>
                
                <!-- Botón menú móvil -->
                <button class="mobile-menu-toggle" aria-label="Abrir menú">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main container -->
    <main class="main-container">
        <div class="container">
            <!-- Indicadores de progreso mejorados -->
            <div class="progress-wrapper">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="slide-indicators">
                    <button class="indicator active" data-slide="0" aria-label="Paso 1: Bienvenida">
                        <span class="indicator-number">1</span>
                        <span class="indicator-label">Inicio</span>
                    </button>
                    <button class="indicator" data-slide="1" aria-label="Paso 2: Seleccionar barbero">
                        <span class="indicator-number">2</span>
                        <span class="indicator-label">Barbero</span>
                    </button>
                    <button class="indicator" data-slide="2" aria-label="Paso 3: Seleccionar servicio">
                        <span class="indicator-number">3</span>
                        <span class="indicator-label">Servicio</span>
                    </button>
                    <button class="indicator" data-slide="3" aria-label="Paso 4: Seleccionar fecha y hora">
                        <span class="indicator-number">4</span>
                        <span class="indicator-label">Fecha</span>
                    </button>
                    <button class="indicator" data-slide="4" aria-label="Paso 5: Confirmar reserva">
                        <span class="indicator-number">5</span>
                        <span class="indicator-label">Confirmar</span>
                    </button>
                </div>
            </div>

            <!-- Slides container -->
            <div class="slides-container">
                <!-- Slide 1: Bienvenida mejorada -->
                <div class="slide active" id="slide-0">
                    <div class="slide-content welcome-slide">
                        <div class="welcome-header">
                            <h1 class="welcome-title">
                                <span class="title-main">Barbershop</span>
                                <span class="title-accent">Elite</span>
                            </h1>
                            <p class="welcome-subtitle">Profesionales expertos en barbería masculina con más de 10 años de experiencia</p>
                        </div>
                        
                        <!-- Integración con Google Calendar -->
                        <div class="calendar-integration-info">
                            <div class="integration-card">
                                <i class="fab fa-google calendar-icon"></i>
                                <h3>Sincronización con Google Calendar</h3>
                                <p>Tus citas se agregan automáticamente a tu calendario personal para que nunca olvides una cita</p>
                                <div class="integration-features">
                                    <div class="feature-item">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Recordatorios automáticos</span>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Sincronización instantánea</span>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Compatible con todos los dispositivos</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="features-grid">
                            <div class="feature-card">
                                <i class="fas fa-award feature-icon"></i>
                                <h3>Calidad Premium</h3>
                                <p>Más de 10 años perfeccionando nuestro arte</p>
                            </div>
                            <div class="feature-card">
                                <i class="fas fa-clock feature-icon"></i>
                                <h3>Puntualidad</h3>
                                <p>Respetamos tu tiempo, siempre puntuales</p>
                            </div>
                            <div class="feature-card">
                                <i class="fas fa-calendar-check feature-icon"></i>
                                <h3>Reservas Online</h3>
                                <p>Sistema de reservas rápido y confiable</p>
                            </div>
                        </div>

                        <div class="cta-section">
                            <button class="btn-primary cta-button" onclick="nextSlide()">
                                <span>Reservar Cita</span>
                                <i class="fas fa-arrow-right"></i>
                            </button>
                            <div class="rating-display">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="rating-text">5.0 (127+ reseñas)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: Selección de barbero mejorada -->
                <div class="slide" id="slide-1">
                    <div class="slide-content">
                        <div class="section-header">
                            <h2 class="section-title">Selecciona tu barbero preferido</h2>
                            <p class="section-subtitle">Cada uno de nuestros profesionales está especializado en diferentes técnicas</p>
                        </div>

                        <div class="employees-grid">
                            <div class="employee-card" data-employee="carlos" data-name="Carlos Mendoza">
                                <div class="employee-image">
                                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face" 
                                         alt="Carlos Mendoza" loading="lazy">
                                    <div class="status-badge online">Disponible</div>
                                </div>
                                <div class="employee-info">
                                    <h3>Carlos Mendoza</h3>
                                    <p class="specialty">Especialista en cortes clásicos</p>
                                    <p class="experience">8 años de experiencia</p>
                                    <div class="employee-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span>4.9</span>
                                    </div>
                                </div>
                            </div>

                            <div class="employee-card" data-employee="miguel" data-name="Miguel Rodriguez">
                                <div class="employee-image">
                                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face" 
                                         alt="Miguel Rodriguez" loading="lazy">
                                    <div class="status-badge busy">Ocupado</div>
                                </div>
                                <div class="employee-info">
                                    <h3>Miguel Rodriguez</h3>
                                    <p class="specialty">Experto en barbas y bigotes</p>
                                    <p class="experience">6 años de experiencia</p>
                                    <div class="employee-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span>4.8</span>
                                    </div>
                                </div>
                            </div>

                            <div class="employee-card" data-employee="andres" data-name="Andrés Silva">
                                <div class="employee-image">
                                    <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face" 
                                         alt="Andrés Silva" loading="lazy">
                                    <div class="status-badge online">Disponible</div>
                                </div>
                                <div class="employee-info">
                                    <h3>Andrés Silva</h3>
                                    <p class="specialty">Cortes modernos y tendencias</p>
                                    <p class="experience">10 años de experiencia</p>
                                    <div class="employee-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span>5.0</span>
                                    </div>
                                </div>
                            </div>

                            <div class="employee-card any-barber" data-employee="any" data-name="Cualquier barbero disponible">
                                <div class="employee-image">
                                    <div class="any-barber-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div class="status-badge online">Disponible</div>
                                </div>
                                <div class="employee-info">
                                    <h3>El próximo disponible</h3>
                                    <p class="specialty">Todos nuestros profesionales</p>
                                    <p class="experience">Experiencia garantizada</p>
                                    <div class="employee-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span>4.9</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="selection-summary">
                            <p>Barbero seleccionado: <span id="selected-employee-name">Ninguno</span></p>
                        </div>
                    </div>
                </div>

                <!-- Slide 3: Selección de servicio mejorada -->
                <div class="slide" id="slide-2">
                    <div class="slide-content">
                        <div class="section-header">
                            <h2 class="section-title">¿Qué servicio deseas?</h2>
                            <p class="section-subtitle">Selecciona el servicio que mejor se adapte a tus necesidades</p>
                        </div>

                        <div class="services-grid">
                            <div class="service-card" data-service="corte" data-name="Corte de cabello" data-price="25000" data-duration="30">
                                <div class="service-icon">
                                    <i class="fas fa-cut"></i>
                                </div>
                                <div class="service-info">
                                    <h3>Corte de cabello</h3>
                                    <p class="service-description">Cortes tradicionales con técnicas modernas</p>
                                    <div class="service-details">
                                        <span class="price">$25.000</span>
                                        <span class="duration">30 min</span>
                                    </div>
                                </div>
                            </div>

                            <div class="service-card" data-service="afeitado" data-name="Afeitado con navaja" data-price="35000" data-duration="45">
                                <div class="service-icon">
                                    <i class="fas fa-razor"></i>
                                </div>
                                <div class="service-info">
                                    <h3>Afeitado con navaja</h3>
                                    <p class="service-description">Afeitado con navaja y tratamiento facial</p>
                                    <div class="service-details">
                                        <span class="price">$35.000</span>
                                        <span class="duration">45 min</span>
                                    </div>
                                </div>
                            </div>

                            <div class="service-card" data-service="combo" data-name="Servicio completo" data-price="45000" data-duration="60">
                                <div class="service-icon">
                                    <i class="fas fa-scissors"></i>
                                </div>
                                <div class="service-info">
                                    <h3>Servicio completo</h3>
                                    <p class="service-description">Servicio completo de corte y arreglo de barba</p>
                                    <div class="service-details">
                                        <span class="price">$45.000</span>
                                        <span class="duration">60 min</span>
                                    </div>
                                </div>
                            </div>

                            <div class="service-card premium" data-service="premium" data-name="Experiencia Premium" data-price="80000" data-duration="90">
                                <div class="service-icon">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <div class="service-info">
                                    <h3>Experiencia Premium</h3>
                                    <p class="service-description">Tratamiento completo para ocasiones especiales</p>
                                    <div class="service-details">
                                        <span class="price">$80.000</span>
                                        <span class="duration">90 min</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="selection-summary">
                            <p>Servicio seleccionado: <span id="selected-service-name">Ninguno</span></p>
                        </div>
                    </div>
                </div>

                <!-- Slide 4: Selección de fecha y hora -->
                <div class="slide" id="slide-3">
                    <div class="slide-content">
                        <div class="section-header">
                            <h2 class="section-title">Selecciona fecha y hora</h2>
                            <p class="section-subtitle">Elige el momento que mejor se adapte a tu agenda</p>
                        </div>

                        <div class="datetime-picker">
                            <div class="date-picker-section">
                                <h3>Fecha</h3>
                                <div class="date-grid" id="date-grid">
                                    <!-- Las fechas se generarán dinámicamente -->
                                </div>
                            </div>

                            <div class="time-picker-section">
                                <h3>Hora disponible</h3>
                                <div class="time-grid" id="time-grid">
                                    <!-- Los horarios se generarán dinámicamente -->
                                </div>
                            </div>
                        </div>

                        <div class="selection-summary">
                            <div class="booking-summary">
                                <h4>Resumen de tu cita:</h4>
                                <p><strong>Barbero:</strong> <span id="summary-employee">-</span></p>
                                <p><strong>Servicio:</strong> <span id="summary-service">-</span></p>
                                <p><strong>Fecha:</strong> <span id="summary-date">-</span></p>
                                <p><strong>Hora:</strong> <span id="summary-time">-</span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 5: Confirmación mejorada -->
                <div class="slide" id="slide-4">
                    <div class="slide-content confirmation-slide">
                        <div class="confirmation-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        
                        <h2 class="confirmation-title">¡Cita Confirmada!</h2>
                        <p class="confirmation-subtitle">Tu cita ha sido agendada exitosamente</p>

                        <div class="booking-details">
                            <div class="detail-item">
                                <i class="fas fa-user"></i>
                                <div>
                                    <strong>Barbero</strong>
                                    <span id="final-employee">-</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-cut"></i>
                                <div>
                                    <strong>Servicio</strong>
                                    <span id="final-service">-</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calendar"></i>
                                <div>
                                    <strong>Fecha y Hora</strong>
                                    <span id="final-datetime">-</span>
                                </div>
                            </div>
                            <div class="detail-item total-item">
                                <i class="fas fa-dollar-sign"></i>
                                <div>
                                    <strong>Total</strong>
                                    <span id="final-price">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="contact-info">
                            <h3>Información de contacto</h3>
                            <div class="contact-grid">
                                <div class="contact-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <div>
                                        <strong>Dirección</strong>
                                        <span>Calle 123 #45-67, Bogotá, Colombia</span>
                                    </div>
                                </div>
                                <div class="contact-item">
                                    <i class="fas fa-phone"></i>
                                    <div>
                                        <strong>Teléfono</strong>
                                        <a href="tel:+573001234567">+57 300 123 4567</a>
                                    </div>
                                </div>
                                <div class="contact-item">
                                    <i class="fas fa-clock"></i>
                                    <div>
                                        <strong>Horarios</strong>
                                        <span>Lun-Vie: 9:00-20:00 | Sáb: 8:00-18:00 | Dom: 10:00-16:00</span>
                                    </div>
                                </div>
                                <div class="contact-item">
                                    <i class="fas fa-envelope"></i>
                                    <div>
                                        <strong>Email</strong>
                                        <a href="mailto:info@barbershopeite.com">info@barbershopeite.com</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <!-- Botón principal para agregar al calendario -->
                            <div class="primary-actions">
                                <button class="btn-primary calendar-main-btn" onclick="showCalendarOptions()">
                                    <i class="fas fa-calendar-plus"></i>
                                    <span>Agregar al Calendario</span>
                                </button>
                            </div>
                            
                            <!-- Botones secundarios -->
                            <div class="secondary-actions">
                                <button class="btn-secondary" onclick="resetSelections()">
                                    <i class="fas fa-plus"></i>
                                    Nueva reserva
                                </button>
                                <button class="btn-outline" onclick="shareAppointment()">
                                    <i class="fas fa-share"></i>
                                    Compartir
                                </button>
                                <button class="btn-outline" onclick="printConfirmation()">
                                    <i class="fas fa-print"></i>
                                    Imprimir
                                </button>
                            </div>
                        </div>

                        <!-- Sistema de calificación -->
                        <div class="rating-section">
                            <h4>¿Cómo fue tu experiencia?</h4>
                            <div class="rating-stars" id="rating-stars">
                                <i class="far fa-star" data-rating="1"></i>
                                <i class="far fa-star" data-rating="2"></i>
                                <i class="far fa-star" data-rating="3"></i>
                                <i class="far fa-star" data-rating="4"></i>
                                <i class="far fa-star" data-rating="5"></i>
                            </div>
                            <textarea id="review-text" placeholder="Comparte tu experiencia (opcional)"></textarea>
                            <button class="btn-small" onclick="submitReview()">Enviar reseña</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controles de navegación -->
            <div class="navigation-controls">
                <button class="nav-btn prev-btn" onclick="previousSlide()" aria-label="Anterior">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="nav-btn next-btn" onclick="nextSlide()" aria-label="Siguiente">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- Modal de opciones de calendario -->
    <div id="calendar-options-modal" class="calendar-options-modal hidden">
        <div class="modal-overlay" onclick="closeCalendarModal()"></div>
        <div class="calendar-options-content">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-plus"></i> Agregar a Calendario</h3>
                <button class="modal-close" onclick="closeCalendarModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="calendar-buttons-grid">
                <button class="calendar-option-btn google" onclick="addToGoogleCalendar()">
                    <i class="fab fa-google"></i>
                    <div>
                        <strong>Google Calendar</strong>
                        <span>Recomendado - Sincronización automática</span>
                    </div>
                </button>
                
                <button class="calendar-option-btn outlook" onclick="addToOutlookCalendar()">
                    <i class="fas fa-calendar"></i>
                    <div>
                        <strong>Outlook Calendar</strong>
                        <span>Microsoft Outlook y Office 365</span>
                    </div>
                </button>
                
                <button class="calendar-option-btn apple" onclick="downloadICSFile('apple')">
                    <i class="fab fa-apple"></i>
                    <div>
                        <strong>iPhone / Mac</strong>
                        <span>Apple Calendar y aplicaciones nativas</span>
                    </div>
                </button>
                
                <button class="calendar-option-btn generic" onclick="downloadICSFile('generic')">
                    <i class="fas fa-download"></i>
                    <div>
                        <strong>Otro calendario</strong>
                        <span>Archivo .ics universal</span>
                    </div>
                </button>
            </div>
            
            <div class="modal-footer">
                <div class="calendar-info">
                    <i class="fas fa-info-circle"></i>
                    <p><strong>Recomendado:</strong> Google Calendar para obtener recordatorios automáticos y sincronización en todos tus dispositivos.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Notificación Push -->
    <div id="push-notification" class="push-notification hidden">
        <div class="notification-content">
            <i class="fas fa-bell"></i>
            <div>
                <h4>Recordatorio de cita</h4>
                <p>Tu cita es en 30 minutos</p>
            </div>
            <button onclick="closePushNotification()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Modal de instalación PWA -->
    <div id="install-prompt" class="install-prompt hidden">
        <div class="prompt-content">
            <i class="fas fa-download"></i>
            <h3>Instalar Barbershop Elite</h3>
            <p>Instala nuestra app para una mejor experiencia</p>
            <div class="prompt-actions">
                <button id="install-btn" class="btn-primary">Instalar</button>
                <button id="dismiss-btn" class="btn-secondary">Después</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
